{
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\_TaeBoMi\\\\VSCode\\\\Z_CLASS\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\_TaeBoMi\\\\VSCode\\\\Z_CLASS\",\"filename\":\"C:\\\\_TaeBoMi\\\\VSCode\\\\Z_CLASS\\\\src\\\\server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\_TaeBoMi\\\\VSCode\\\\Z_CLASS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-private-methods\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"regenerator-transform\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.8": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "C:\\_TaeBoMi\\VSCode\\Z_CLASS",
      "filename": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\server.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "browserslistConfigFile": false,
      "envName": "development",
      "root": "C:\\_TaeBoMi\\VSCode\\Z_CLASS",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-private-methods",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "proposal-numeric-separator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "BigIntLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-json-strings",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-catch-binding",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "CatchClause": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-parameters",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-async-generator-functions",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-object-rest-spread",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "VariableDeclarator": {
              "enter": [
                null
              ]
            },
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-dotall-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-unicode-property-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-named-capturing-groups-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-async-to-generator",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-exponentiation-operator",
          "visitor": {
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-template-literals",
          "visitor": {
            "TaggedTemplateExpression": {
              "enter": [
                null
              ]
            },
            "TemplateLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-literals",
          "visitor": {
            "NumericLiteral": {
              "enter": [
                null
              ]
            },
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-function-name",
          "visitor": {
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-arrow-functions",
          "visitor": {
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoped-functions",
          "visitor": {
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchCase": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-classes",
          "visitor": {
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-object-super",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-shorthand-properties",
          "visitor": {
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "ObjectProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-duplicate-keys",
          "visitor": {
            "ObjectExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-computed-properties",
          "visitor": {
            "ObjectExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-for-of",
          "visitor": {
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-sticky-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-escapes",
          "visitor": {
            "Identifier": {
              "enter": [
                null
              ]
            },
            "TemplateElement": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "StringLiteral": {
              "enter": [
                null
              ]
            },
            "DirectiveLiteral": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-unicode-regex",
          "visitor": {
            "RegExpLiteral": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-spread",
          "visitor": {
            "ArrayExpression": {
              "enter": [
                null
              ]
            },
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "NewExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-destructuring",
          "visitor": {
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "AssignmentExpression": {
              "enter": [
                null
              ]
            },
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-block-scoping",
          "visitor": {
            "VariableDeclaration": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "_verified": true,
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-typeof-symbol",
          "visitor": {
            "UnaryExpression": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "BlockStatement": {
              "enter": [
                null
              ]
            },
            "CatchClause": {
              "enter": [
                null
              ]
            },
            "DoWhileStatement": {
              "enter": [
                null
              ]
            },
            "ForInStatement": {
              "enter": [
                null
              ]
            },
            "ForStatement": {
              "enter": [
                null
              ]
            },
            "FunctionDeclaration": {
              "enter": [
                null
              ]
            },
            "FunctionExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "enter": [
                null
              ]
            },
            "ObjectMethod": {
              "enter": [
                null
              ]
            },
            "SwitchStatement": {
              "enter": [
                null
              ]
            },
            "WhileStatement": {
              "enter": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            },
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ForOfStatement": {
              "enter": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ]
            },
            "StaticBlock": {
              "enter": [
                null
              ]
            },
            "TSModuleBlock": {
              "enter": [
                null
              ]
            },
            "AssignmentPattern": {
              "enter": [
                null
              ]
            },
            "ArrayPattern": {
              "enter": [
                null
              ]
            },
            "ObjectPattern": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-new-target",
          "visitor": {
            "MetaProperty": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "regenerator-transform",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "ObjectMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "ClassPrivateMethod": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "FunctionDeclaration": {
              "exit": [
                null
              ]
            },
            "FunctionExpression": {
              "exit": [
                null
              ]
            },
            "ArrowFunctionExpression": {
              "exit": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-member-expression-literals",
          "visitor": {
            "MemberExpression": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-property-literals",
          "visitor": {
            "ObjectProperty": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-reserved-words",
          "visitor": {
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null,
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\server.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\",
        "sourceFileName": "server.js",
        "jsescOption": {
          "minimal": false
        }
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _http = _interopRequireWildcard(require(\"http\"));\n\nvar _socket2 = _interopRequireDefault(require(\"socket.io\"));\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _wrtc = _interopRequireDefault(require(\"wrtc\"));\n\nvar _fs = _interopRequireDefault(require(\"fs\"));\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar app = (0, _express[\"default\"])();\napp.engine(\"html\", require(\"ejs\").renderFile);\napp.set(\"views\", __dirname + \"/public/views\");\napp.set(\"view engine\", \"ejs\");\napp.use(\"/public\", _express[\"default\"][\"static\"](__dirname + \"/public\"));\napp.get(\"/\", function (req, res) {\n  return res.render(\"main.html\");\n});\napp.get(\"/sign_up\", function (req, res) {\n  return res.render(\"sign_up.html\");\n});\napp.get(\"/home\", function (req, res) {\n  return res.render(\"home.html\");\n}); // /flask 주소로 접속 시 5000번 port의 경로로 접속해서 response 받음\n\napp.get(\"/flask\", /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(req, res) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _axios[\"default\"].get(\"http://127.0.0.1:5000/flask\");\n\n          case 2:\n            response = _context.sent;\n            console.log(response.data); // response.data 값을 client에게 보내줌\n\n            res.send(response.data);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}());\n\nvar httpServer = _http[\"default\"].createServer(app);\n\nvar wsServer = (0, _socket2[\"default\"])(httpServer);\nhttpServer.listen(3000);\nvar sockets = []; // 연결된 socket들을 저장하는 배열\n\nvar userStreams = {}; // sendPC로부터 받아온 stream을 저장\n\nvar pcConfig = {\n  iceServers: [{\n    urls: [\"stun:stun.l.google.com:19302\", \"stun:stun1.l.google.com:19302\", \"stun:stun2.l.google.com:19302\", \"stun:stun3.l.google.com:19302\", \"stun:stun4.l.google.com:19302\"]\n  }]\n};\nwsServer.on(\"connection\", function (socket) {\n  // 초기화\n  userStreams[socket.id] = new _wrtc[\"default\"].MediaStream();\n  socket.sendPCs = [];\n  socket.join(\"Class\");\n  socket.on(\"signUp_getPic\", function (_data, _i) {\n    console.log(\"data 받음\");\n\n    _fs[\"default\"].writeFile(\"data/face_pic/pic\".concat(_i, \".png\"), _data, function (_err) {});\n  }); // client의 offer 받고 answer 보냄\n\n  socket.on(\"sendOffer\", /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_offer) {\n      var answer;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              sockets.push(socket);\n              console.log(\"send offer 받음\");\n              socket.receivePC = new _wrtc[\"default\"].RTCPeerConnection(pcConfig);\n\n              socket.receivePC.onicecandidate = function (_data) {\n                console.log(\"send ice candidate 생성\");\n\n                if (_data.candidate) {\n                  console.log(\"send ice candidate 송신\");\n                  socket.emit(\"sendIce\", _data.candidate);\n                }\n              };\n\n              socket.receivePC.ontrack = function (_data) {\n                console.log(\"### stream 받음\"); // track.kind를 통해 audio video 구별 가능\n\n                /*\r\n                if (_data.track.kind === \"audio\") {\r\n                  socket.audioTrack = _data.track;\r\n                  console.log(\"audio 트랙 넣음\");\r\n                } else if (_data.track.kind === \"video\") {\r\n                  socket.videoTrack = _data.track;\r\n                  console.log(\"video 트랙 넣음\");\r\n                }\r\n                */\n                //stream에 track 추가\n\n                userStreams[socket.id].addTrack(_data.track); // 데이터 넣는 것을 완료한 뒤에 기존 접속자에게 새로운 접속자의 mediastream을 받을 연결 생성\n\n                socket.to(\"Class\").emit(\"newUserJoined\", socket.id); // 기존 접속자들의 영상 얻기\n\n                sockets.filter(function (_socket) {\n                  return _socket.id !== socket.id;\n                }).forEach(function (_socket) {\n                  socket.emit(\"addOldUser\", _socket.id);\n                });\n              };\n\n              _context2.next = 8;\n              return socket.receivePC.setRemoteDescription(_offer);\n\n            case 8:\n              _context2.next = 10;\n              return socket.receivePC.createAnswer({\n                offerToReceiveAudio: true,\n                offerToReceiveVideo: true\n              });\n\n            case 10:\n              answer = _context2.sent;\n              _context2.next = 13;\n              return socket.receivePC.setLocalDescription(answer);\n\n            case 13:\n              console.log(\"send answer 보냄\");\n              socket.emit(\"sendAnswer\", answer);\n              _context2.next = 20;\n              break;\n\n            case 17:\n              _context2.prev = 17;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 17]]);\n    }));\n\n    return function (_x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }());\n  socket.on(\"sendIce\", function (_candidate) {\n    console.log(\"send ice candidate 받음\");\n    socket.receivePC.addIceCandidate(_candidate);\n  });\n  socket.on(\"receiveOffer\", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_offer, _id) {\n      var tempPC, answer;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              console.log(\"receive offer 받음\");\n              tempPC = {\n                pc: new _wrtc[\"default\"].RTCPeerConnection(pcConfig),\n                stream: new _wrtc[\"default\"].MediaStream(),\n                id: _id\n              };\n              socket.sendPCs.push(tempPC);\n\n              tempPC.pc.onicecandidate = function (_data) {\n                console.log(\"receive ice candidate 생성\");\n\n                if (_data.candidate) {\n                  console.log(\"receive ice candidate 송신\");\n                  socket.emit(\"receiveIce\", _data.candidate, _id);\n                }\n              };\n\n              userStreams[_id].getTracks().forEach(function (_track) {\n                tempPC.pc.addTrack(_track);\n              });\n\n              _context3.next = 8;\n              return tempPC.pc.setRemoteDescription(_offer);\n\n            case 8:\n              _context3.next = 10;\n              return tempPC.pc.createAnswer({\n                offerToReceiveAudio: false,\n                offerToReceiveVideo: false\n              });\n\n            case 10:\n              answer = _context3.sent;\n              _context3.next = 13;\n              return tempPC.pc.setLocalDescription(answer);\n\n            case 13:\n              socket.emit(\"receiveAnswer\", answer, _id);\n              console.log(\"receive answer 보냄\");\n              _context3.next = 20;\n              break;\n\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.log(_context3.t0);\n\n            case 20:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 17]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n  socket.on(\"receiveIce\", function (_candidate, _id) {\n    console.log(\"receive ice candidate 추가\");\n    var temp = socket.sendPCs.find(function (_pc) {\n      return _pc.id === _id;\n    });\n    temp.pc.addIceCandidate(_candidate);\n  });\n  socket.on(\"disconnecting\", function () {\n    sockets = sockets.filter(function (_socket) {\n      return _socket.id !== socket.id;\n    });\n    socket.to(\"Class\").emit(\"userExit\", socket.id);\n  });\n  socket.on(\"sendChat\", function (_msg, _id) {\n    console.log(\"메시지 받음\");\n    socket.to(\"Class\").emit(\"receiveChat\", _msg, _id);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJlbmdpbmUiLCJyZXF1aXJlIiwicmVuZGVyRmlsZSIsInNldCIsIl9fZGlybmFtZSIsInVzZSIsImV4cHJlc3MiLCJnZXQiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJheGlvcyIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsImRhdGEiLCJzZW5kIiwiaHR0cFNlcnZlciIsImh0dHAiLCJjcmVhdGVTZXJ2ZXIiLCJ3c1NlcnZlciIsImxpc3RlbiIsInNvY2tldHMiLCJ1c2VyU3RyZWFtcyIsInBjQ29uZmlnIiwiaWNlU2VydmVycyIsInVybHMiLCJvbiIsInNvY2tldCIsImlkIiwid2ViUlRDIiwiTWVkaWFTdHJlYW0iLCJzZW5kUENzIiwiam9pbiIsIl9kYXRhIiwiX2kiLCJmcyIsIndyaXRlRmlsZSIsIl9lcnIiLCJfb2ZmZXIiLCJwdXNoIiwicmVjZWl2ZVBDIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJvbmljZWNhbmRpZGF0ZSIsImNhbmRpZGF0ZSIsImVtaXQiLCJvbnRyYWNrIiwiYWRkVHJhY2siLCJ0cmFjayIsInRvIiwiZmlsdGVyIiwiX3NvY2tldCIsImZvckVhY2giLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsImNyZWF0ZUFuc3dlciIsIm9mZmVyVG9SZWNlaXZlQXVkaW8iLCJvZmZlclRvUmVjZWl2ZVZpZGVvIiwiYW5zd2VyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsIl9jYW5kaWRhdGUiLCJhZGRJY2VDYW5kaWRhdGUiLCJfaWQiLCJ0ZW1wUEMiLCJwYyIsInN0cmVhbSIsImdldFRyYWNrcyIsIl90cmFjayIsInRlbXAiLCJmaW5kIiwiX3BjIiwiX21zZyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7QUFFQSxJQUFNQSxHQUFHLEdBQUcsMEJBQVo7QUFFQUEsR0FBRyxDQUFDQyxNQUFKLENBQVcsTUFBWCxFQUFtQkMsT0FB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VixFQUFzQixVQUFDMkMsSUFBRCxFQUFNVCxHQUFOLEVBQVk7QUFDaENoRCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0FjLElBQUFBLE1BQU0sQ0FBQ3FCLEVBQVAsQ0FBVSxPQUFWLEVBQW1CSixJQUFuQixDQUF3QixhQUF4QixFQUF1Q3lCLElBQXZDLEVBQTZDVCxHQUE3QztBQUNELEdBSEQ7QUFJRCxDQW5IRCIsInNvdXJjZVJvb3QiOiJDOlxcX1RhZUJvTWlcXFZTQ29kZVxcWl9DTEFTU1xcc3JjXFwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHR0cCwgeyByZXF1ZXN0IH0gZnJvbSBcImh0dHBcIjtcclxuaW1wb3J0IHNvY2tldElPIGZyb20gXCJzb2NrZXQuaW9cIjtcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIjtcclxuaW1wb3J0IHdlYlJUQyBmcm9tIFwid3J0Y1wiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBheGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuXHJcbmFwcC5lbmdpbmUoXCJodG1sXCIsIHJlcXVpcmUoXCJlanNcIikucmVuZGVyRmlsZSk7XHJcbmFwcC5zZXQoXCJ2aWV3c1wiLCBfX2Rpcm5hbWUgKyBcIi9wdWJsaWMvdmlld3NcIik7XHJcbmFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKTtcclxuYXBwLnVzZShcIi9wdWJsaWNcIiwgZXhwcmVzcy5zdGF0aWMoX19kaXJuYW1lICsgXCIvcHVibGljXCIpKTtcclxuXHJcbmFwcC5nZXQoXCIvXCIsIChyZXEsIHJlcykgPT4gcmVzLnJlbmRlcihcIm1haW4uaHRtbFwiKSk7XHJcbmFwcC5nZXQoXCIvc2lnbl91cFwiLCAocmVxLCByZXMpID0+IHJlcy5yZW5kZXIoXCJzaWduX3VwLmh0bWxcIikpO1xyXG5hcHAuZ2V0KFwiL2hvbWVcIiwgKHJlcSwgcmVzKSA9PiByZXMucmVuZGVyKFwiaG9tZS5odG1sXCIpKTtcclxuXHJcbi8vIC9mbGFzayDso7zshozroZwg7KCR7IaNIOyLnCA1MDAw67KIIHBvcnTsnZgg6rK966Gc66GcIOygkeyGje2VtOyEnCByZXNwb25zZSDrsJvsnYxcclxuYXBwLmdldChcIi9mbGFza1wiLCBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChcImh0dHA6Ly8xMjcuMC4wLjE6NTAwMC9mbGFza1wiKTtcclxuICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcclxuXHJcbiAgLy8gcmVzcG9uc2UuZGF0YSDqsJLsnYQgY2xpZW507JeQ6rKMIOuztOuCtOykjFxyXG4gIHJlcy5zZW5kKHJlc3BvbnNlLmRhdGEpO1xyXG59KTtcclxuXHJcbmNvbnN0IGh0dHBTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xyXG5jb25zdCB3c1NlcnZlciA9IHNvY2tldElPKGh0dHBTZXJ2ZXIpO1xyXG5cclxuaHR0cFNlcnZlci5saXN0ZW4oMzAwMCk7XHJcblxyXG5sZXQgc29ja2V0cyA9IFtdOyAvLyDsl7DqsrDrkJwgc29ja2V065Ok7J2EIOyggOyepe2VmOuKlCDrsLDsl7RcclxubGV0IHVzZXJTdHJlYW1zID0ge307IC8vIHNlbmRQQ+uhnOu2gO2EsCDrsJvslYTsmKggc3RyZWFt7J2EIOyggOyepVxyXG5cclxuY29uc3QgcGNDb25maWcgPSB7XHJcbiAgaWNlU2VydmVyczogW1xyXG4gICAge1xyXG4gICAgICB1cmxzOiBbXHJcbiAgICAgICAgXCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCIsXHJcbiAgICAgICAgXCJzdHVuOnN0dW4xLmwuZ29vZ2xlLmNvbToxOTMwMlwiLFxyXG4gICAgICAgIFwic3R1bjpzdHVuMi5sLmdvb2dsZS5jb206MTkzMDJcIixcclxuICAgICAgICBcInN0dW46c3R1bjMubC5nb29nbGUuY29tOjE5MzAyXCIsXHJcbiAgICAgICAgXCJzdHVuOnN0dW40LmwuZ29vZ2xlLmNvbToxOTMwMlwiLFxyXG4gICAgICBdLFxyXG4gICAgfSxcclxuICBdLFxyXG59O1xyXG5cclxud3NTZXJ2ZXIub24oXCJjb25uZWN0aW9uXCIsIChzb2NrZXQpID0+IHtcclxuICAvLyDstIjquLDtmZRcclxuICB1c2VyU3RyZWFtc1tzb2NrZXQuaWRdID0gbmV3IHdlYlJUQy5NZWRpYVN0cmVhbSgpO1xyXG4gIHNvY2tldC5zZW5kUENzID0gW107XHJcbiAgc29ja2V0LmpvaW4oXCJDbGFzc1wiKTtcclxuXHJcbiAgc29ja2V0Lm9uKFwic2lnblVwX2dldFBpY1wiLCAoX2RhdGEsIF9pKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcImRhdGEg67Cb7J2MXCIpO1xyXG4gICAgZnMud3JpdGVGaWxlKGBkYXRhL2ZhY2VfcGljL3BpYyR7X2l9LnBuZ2AsIF9kYXRhLCAoX2VycikgPT4ge30pO1xyXG4gIH0pO1xyXG5cclxuICAvLyBjbGllbnTsnZggb2ZmZXIg67Cb6rOgIGFuc3dlciDrs7Trg4RcclxuICBzb2NrZXQub24oXCJzZW5kT2ZmZXJcIiwgYXN5bmMgKF9vZmZlcikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc29ja2V0cy5wdXNoKHNvY2tldCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2VuZCBvZmZlciDrsJvsnYxcIik7XHJcbiAgICAgIHNvY2tldC5yZWNlaXZlUEMgPSBuZXcgd2ViUlRDLlJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnKTtcclxuICAgICAgc29ja2V0LnJlY2VpdmVQQy5vbmljZWNhbmRpZGF0ZSA9IChfZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic2VuZCBpY2UgY2FuZGlkYXRlIOyDneyEsVwiKTtcclxuICAgICAgICBpZiAoX2RhdGEuY2FuZGlkYXRlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInNlbmQgaWNlIGNhbmRpZGF0ZSDshqHsi6BcIik7XHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcInNlbmRJY2VcIiwgX2RhdGEuY2FuZGlkYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIHNvY2tldC5yZWNlaXZlUEMub250cmFjayA9IChfZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiIyMjIHN0cmVhbSDrsJvsnYxcIik7XHJcblxyXG4gICAgICAgIC8vIHRyYWNrLmtpbmTrpbwg7Ya17ZW0IGF1ZGlvIHZpZGVvIOq1rOuzhCDqsIDriqVcclxuICAgICAgICAvKlxyXG4gICAgICAgIGlmIChfZGF0YS50cmFjay5raW5kID09PSBcImF1ZGlvXCIpIHtcclxuICAgICAgICAgIHNvY2tldC5hdWRpb1RyYWNrID0gX2RhdGEudHJhY2s7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIO2KuOuemSDrhKPsnYxcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmIChfZGF0YS50cmFjay5raW5kID09PSBcInZpZGVvXCIpIHtcclxuICAgICAgICAgIHNvY2tldC52aWRlb1RyYWNrID0gX2RhdGEudHJhY2s7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInZpZGVvIO2KuOuemSDrhKPsnYxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICAgICAgLy9zdHJlYW3sl5AgdHJhY2sg7LaU6rCAXHJcbiAgICAgICAgdXNlclN0cmVhbXNbc29ja2V0LmlkXS5hZGRUcmFjayhfZGF0YS50cmFjayk7XHJcbiAgICAgICAgLy8g642w7J207YSwIOuEo+uKlCDqsoPsnYQg7JmE66OM7ZWcIOuSpOyXkCDquLDsobQg7KCR7IaN7J6Q7JeQ6rKMIOyDiOuhnOyatCDsoJHsho3snpDsnZggbWVkaWFzdHJlYW3snYQg67Cb7J2EIOyXsOqysCDsg53shLFcclxuICAgICAgICBzb2NrZXQudG8oXCJDbGFzc1wiKS5lbWl0KFwibmV3VXNlckpvaW5lZFwiLCBzb2NrZXQuaWQpO1xyXG4gICAgICAgIC8vIOq4sOyhtCDsoJHsho3snpDrk6TsnZgg7JiB7IOBIOyWu+q4sFxyXG4gICAgICAgIHNvY2tldHNcclxuICAgICAgICAgIC5maWx0ZXIoKF9zb2NrZXQpID0+IF9zb2NrZXQuaWQgIT09IHNvY2tldC5pZClcclxuICAgICAgICAgIC5mb3JFYWNoKChfc29ja2V0KSA9PiB7XHJcbiAgICAgICAgICAgIHNvY2tldC5lbWl0KFwiYWRkT2xkVXNlclwiLCBfc29ja2V0LmlkKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXdhaXQgc29ja2V0LnJlY2VpdmVQQy5zZXRSZW1vdGVEZXNjcmlwdGlvbihfb2ZmZXIpO1xyXG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBzb2NrZXQucmVjZWl2ZVBDLmNyZWF0ZUFuc3dlcih7XHJcbiAgICAgICAgb2ZmZXJUb1JlY2VpdmVBdWRpbzogdHJ1ZSxcclxuICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiB0cnVlLFxyXG4gICAgICB9KTtcclxuICAgICAgYXdhaXQgc29ja2V0LnJlY2VpdmVQQy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwic2VuZCBhbnN3ZXIg67O064OEXCIpO1xyXG4gICAgICBzb2NrZXQuZW1pdChcInNlbmRBbnN3ZXJcIiwgYW5zd2VyKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHNvY2tldC5vbihcInNlbmRJY2VcIiwgKF9jYW5kaWRhdGUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwic2VuZCBpY2UgY2FuZGlkYXRlIOuwm+ydjFwiKTtcclxuICAgIHNvY2tldC5yZWNlaXZlUEMuYWRkSWNlQ2FuZGlkYXRlKF9jYW5kaWRhdGUpO1xyXG4gIH0pO1xyXG5cclxuICBzb2NrZXQub24oXCJyZWNlaXZlT2ZmZXJcIiwgYXN5bmMgKF9vZmZlciwgX2lkKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInJlY2VpdmUgb2ZmZXIg67Cb7J2MXCIpO1xyXG4gICAgICBjb25zdCB0ZW1wUEMgPSB7XHJcbiAgICAgICAgcGM6IG5ldyB3ZWJSVEMuUlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcpLFxyXG4gICAgICAgIHN0cmVhbTogbmV3IHdlYlJUQy5NZWRpYVN0cmVhbSgpLFxyXG4gICAgICAgIGlkOiBfaWQsXHJcbiAgICAgIH07XHJcbiAgICAgIHNvY2tldC5zZW5kUENzLnB1c2godGVtcFBDKTtcclxuICAgICAgdGVtcFBDLnBjLm9uaWNlY2FuZGlkYXRlID0gKF9kYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJyZWNlaXZlIGljZSBjYW5kaWRhdGUg7IOd7ISxXCIpO1xyXG4gICAgICAgIGlmIChfZGF0YS5jYW5kaWRhdGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVjZWl2ZSBpY2UgY2FuZGlkYXRlIOyGoeyLoFwiKTtcclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwicmVjZWl2ZUljZVwiLCBfZGF0YS5jYW5kaWRhdGUsIF9pZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgICB1c2VyU3RyZWFtc1tfaWRdLmdldFRyYWNrcygpLmZvckVhY2goKF90cmFjaykgPT4ge1xyXG4gICAgICAgIHRlbXBQQy5wYy5hZGRUcmFjayhfdHJhY2spO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGF3YWl0IHRlbXBQQy5wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihfb2ZmZXIpO1xyXG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0ZW1wUEMucGMuY3JlYXRlQW5zd2VyKHtcclxuICAgICAgICBvZmZlclRvUmVjZWl2ZUF1ZGlvOiBmYWxzZSxcclxuICAgICAgICBvZmZlclRvUmVjZWl2ZVZpZGVvOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIGF3YWl0IHRlbXBQQy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XHJcbiAgICAgIHNvY2tldC5lbWl0KFwicmVjZWl2ZUFuc3dlclwiLCBhbnN3ZXIsIF9pZCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVjZWl2ZSBhbnN3ZXIg67O064OEXCIpO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwicmVjZWl2ZUljZVwiLCAoX2NhbmRpZGF0ZSwgX2lkKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcInJlY2VpdmUgaWNlIGNhbmRpZGF0ZSDstpTqsIBcIik7XHJcbiAgICBjb25zdCB0ZW1wID0gc29ja2V0LnNlbmRQQ3MuZmluZCgoX3BjKSA9PiBfcGMuaWQgPT09IF9pZCk7XHJcbiAgICB0ZW1wLnBjLmFkZEljZUNhbmRpZGF0ZShfY2FuZGlkYXRlKTtcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwiZGlzY29ubmVjdGluZ1wiLCAoKSA9PiB7XHJcbiAgICBzb2NrZXRzID0gc29ja2V0cy5maWx0ZXIoKF9zb2NrZXQpID0+IF9zb2NrZXQuaWQgIT09IHNvY2tldC5pZCk7XHJcbiAgICBzb2NrZXQudG8oXCJDbGFzc1wiKS5lbWl0KFwidXNlckV4aXRcIiwgc29ja2V0LmlkKTtcclxuICB9KTtcclxuXHJcbiAgc29ja2V0Lm9uKFwic2VuZENoYXRcIiwgKF9tc2csX2lkKT0+e1xyXG4gICAgY29uc29sZS5sb2coXCLrqZTsi5zsp4Ag67Cb7J2MXCIpO1xyXG4gICAgc29ja2V0LnRvKFwiQ2xhc3NcIikuZW1pdChcInJlY2VpdmVDaGF0XCIsIF9tc2csIF9pZCk7XHJcbiAgfSlcclxufSk7XHJcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "app",
        "engine",
        "require",
        "renderFile",
        "set",
        "__dirname",
        "use",
        "express",
        "get",
        "req",
        "res",
        "render",
        "axios",
        "response",
        "console",
        "log",
        "data",
        "send",
        "httpServer",
        "http",
        "createServer",
        "wsServer",
        "listen",
        "sockets",
        "userStreams",
        "pcConfig",
        "iceServers",
        "urls",
        "on",
        "socket",
        "id",
        "webRTC",
        "MediaStream",
        "sendPCs",
        "join",
        "_data",
        "_i",
        "fs",
        "writeFile",
        "_err",
        "_offer",
        "push",
        "receivePC",
        "RTCPeerConnection",
        "onicecandidate",
        "candidate",
        "emit",
        "ontrack",
        "addTrack",
        "track",
        "to",
        "filter",
        "_socket",
        "forEach",
        "setRemoteDescription",
        "createAnswer",
        "offerToReceiveAudio",
        "offerToReceiveVideo",
        "answer",
        "setLocalDescription",
        "_candidate",
        "addIceCandidate",
        "_id",
        "tempPC",
        "pc",
        "stream",
        "getTracks",
        "_track",
        "temp",
        "find",
        "_pc",
        "_msg"
      ],
      "mappings": "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",
      "sourceRoot": "C:\\_TaeBoMi\\VSCode\\Z_CLASS\\src\\",
      "sourcesContent": [
        "import http, { request } from \"http\";\r\nimport socketIO from \"socket.io\";\r\nimport express from \"express\";\r\nimport webRTC from \"wrtc\";\r\nimport fs from \"fs\";\r\nimport axios from \"axios\";\r\n\r\nconst app = express();\r\n\r\napp.engine(\"html\", require(\"ejs\").renderFile);\r\napp.set(\"views\", __dirname + \"/public/views\");\r\napp.set(\"view engine\", \"ejs\");\r\napp.use(\"/public\", express.static(__dirname + \"/public\"));\r\n\r\napp.get(\"/\", (req, res) => res.render(\"main.html\"));\r\napp.get(\"/sign_up\", (req, res) => res.render(\"sign_up.html\"));\r\napp.get(\"/home\", (req, res) => res.render(\"home.html\"));\r\n\r\n// /flask 주소로 접속 시 5000번 port의 경로로 접속해서 response 받음\r\napp.get(\"/flask\", async (req, res) => {\r\n  const response = await axios.get(\"http://127.0.0.1:5000/flask\");\r\n  console.log(response.data);\r\n\r\n  // response.data 값을 client에게 보내줌\r\n  res.send(response.data);\r\n});\r\n\r\nconst httpServer = http.createServer(app);\r\nconst wsServer = socketIO(httpServer);\r\n\r\nhttpServer.listen(3000);\r\n\r\nlet sockets = []; // 연결된 socket들을 저장하는 배열\r\nlet userStreams = {}; // sendPC로부터 받아온 stream을 저장\r\n\r\nconst pcConfig = {\r\n  iceServers: [\r\n    {\r\n      urls: [\r\n        \"stun:stun.l.google.com:19302\",\r\n        \"stun:stun1.l.google.com:19302\",\r\n        \"stun:stun2.l.google.com:19302\",\r\n        \"stun:stun3.l.google.com:19302\",\r\n        \"stun:stun4.l.google.com:19302\",\r\n      ],\r\n    },\r\n  ],\r\n};\r\n\r\nwsServer.on(\"connection\", (socket) => {\r\n  // 초기화\r\n  userStreams[socket.id] = new webRTC.MediaStream();\r\n  socket.sendPCs = [];\r\n  socket.join(\"Class\");\r\n\r\n  socket.on(\"signUp_getPic\", (_data, _i) => {\r\n    console.log(\"data 받음\");\r\n    fs.writeFile(`data/face_pic/pic${_i}.png`, _data, (_err) => {});\r\n  });\r\n\r\n  // client의 offer 받고 answer 보냄\r\n  socket.on(\"sendOffer\", async (_offer) => {\r\n    try {\r\n      sockets.push(socket);\r\n      console.log(\"send offer 받음\");\r\n      socket.receivePC = new webRTC.RTCPeerConnection(pcConfig);\r\n      socket.receivePC.onicecandidate = (_data) => {\r\n        console.log(\"send ice candidate 생성\");\r\n        if (_data.candidate) {\r\n          console.log(\"send ice candidate 송신\");\r\n          socket.emit(\"sendIce\", _data.candidate);\r\n        }\r\n      };\r\n      socket.receivePC.ontrack = (_data) => {\r\n        console.log(\"### stream 받음\");\r\n\r\n        // track.kind를 통해 audio video 구별 가능\r\n        /*\r\n        if (_data.track.kind === \"audio\") {\r\n          socket.audioTrack = _data.track;\r\n          console.log(\"audio 트랙 넣음\");\r\n        } else if (_data.track.kind === \"video\") {\r\n          socket.videoTrack = _data.track;\r\n          console.log(\"video 트랙 넣음\");\r\n        }\r\n        */\r\n        //stream에 track 추가\r\n        userStreams[socket.id].addTrack(_data.track);\r\n        // 데이터 넣는 것을 완료한 뒤에 기존 접속자에게 새로운 접속자의 mediastream을 받을 연결 생성\r\n        socket.to(\"Class\").emit(\"newUserJoined\", socket.id);\r\n        // 기존 접속자들의 영상 얻기\r\n        sockets\r\n          .filter((_socket) => _socket.id !== socket.id)\r\n          .forEach((_socket) => {\r\n            socket.emit(\"addOldUser\", _socket.id);\r\n          });\r\n      };\r\n\r\n      await socket.receivePC.setRemoteDescription(_offer);\r\n      const answer = await socket.receivePC.createAnswer({\r\n        offerToReceiveAudio: true,\r\n        offerToReceiveVideo: true,\r\n      });\r\n      await socket.receivePC.setLocalDescription(answer);\r\n      console.log(\"send answer 보냄\");\r\n      socket.emit(\"sendAnswer\", answer);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  });\r\n\r\n  socket.on(\"sendIce\", (_candidate) => {\r\n    console.log(\"send ice candidate 받음\");\r\n    socket.receivePC.addIceCandidate(_candidate);\r\n  });\r\n\r\n  socket.on(\"receiveOffer\", async (_offer, _id) => {\r\n    try {\r\n      console.log(\"receive offer 받음\");\r\n      const tempPC = {\r\n        pc: new webRTC.RTCPeerConnection(pcConfig),\r\n        stream: new webRTC.MediaStream(),\r\n        id: _id,\r\n      };\r\n      socket.sendPCs.push(tempPC);\r\n      tempPC.pc.onicecandidate = (_data) => {\r\n        console.log(\"receive ice candidate 생성\");\r\n        if (_data.candidate) {\r\n          console.log(\"receive ice candidate 송신\");\r\n          socket.emit(\"receiveIce\", _data.candidate, _id);\r\n        }\r\n      };\r\n      userStreams[_id].getTracks().forEach((_track) => {\r\n        tempPC.pc.addTrack(_track);\r\n      });\r\n\r\n      await tempPC.pc.setRemoteDescription(_offer);\r\n      const answer = await tempPC.pc.createAnswer({\r\n        offerToReceiveAudio: false,\r\n        offerToReceiveVideo: false,\r\n      });\r\n      await tempPC.pc.setLocalDescription(answer);\r\n      socket.emit(\"receiveAnswer\", answer, _id);\r\n      console.log(\"receive answer 보냄\");\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  });\r\n\r\n  socket.on(\"receiveIce\", (_candidate, _id) => {\r\n    console.log(\"receive ice candidate 추가\");\r\n    const temp = socket.sendPCs.find((_pc) => _pc.id === _id);\r\n    temp.pc.addIceCandidate(_candidate);\r\n  });\r\n\r\n  socket.on(\"disconnecting\", () => {\r\n    sockets = sockets.filter((_socket) => _socket.id !== socket.id);\r\n    socket.to(\"Class\").emit(\"userExit\", socket.id);\r\n  });\r\n\r\n  socket.on(\"sendChat\", (_msg,_id)=>{\r\n    console.log(\"메시지 받음\");\r\n    socket.to(\"Class\").emit(\"receiveChat\", _msg, _id);\r\n  })\r\n});\r\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1635799494513
  }
}